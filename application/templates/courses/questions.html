<!--Add Question-->
<div id="addQuestions" class="card-footer py-3 border-0 " 
style="background-color: #f8f9fa; width: 70%; display: none; margin-right: auto; margin-left: auto; height: 200px;">
  <div class="d-flex flex-start w-100">
    <i class="fa-solid fa-circle-user fa-3x" style="margin: 5px;"></i>
    <div class="form-outline w-100" style="margin-left: 5px;">
      <label class="form-label" for="textAreaExample">Leave a question</label>
      <textarea class="form-control" id="textAreaExample" rows="4" placeholder="What is your question?"
        style="background: #fff;"></textarea>
    </div>
  </div>
  <div class="float-end mt-2 pt-1">
    <button type="button" class="btn btn-primary btn-sm">Post comment</button>
    <button type="button" class="btn btn-outline-primary btn-sm">Cancel</button>
  </div>
</div>
<!--End Add Question-->

<!--List of Questions-->
<div id="questions" class="container" style="display:none; width: 100%; 
height: fit-content; margin-top: 20px; margin-bottom: 20px;">

{% if questions %}
{% for question in questions %}

<div class="container containerWithBorder">

  <div class="row" style="margin-bottom: 5px; height: fit-content; position: relative;">

    <div style="display: inline-block; width: fit-content; height: fit-content; margin: 10px 0 0 0;">
      <i class="fa-solid fa-circle-user fa-2x"></i>
    </div>
    <div style=" height: fit-content; padding: 0;width:fit-content;display:inline-block">
      <p style="margin: 5px; text-align: left;">{{ question.student.user.username }}<br>
      <span style="font-size: small; text-align: left; color: gray;">{{ question.created_at }}</span></p>
    </div>
    <div style="text-align: justify; margin-top: 25px; margin-bottom: 5px;">
      <h4>{{ question.title }}</h4>
    </div>
    <div style="height: fit-content;">
      <p class="breakText">{{ question.text }}</p>
    </div>
    <div style="position: relative; width: 100%; height: 50px; margin-top: 10px;">
      <button type="button" id="replyButton" data-bs-toggle="modal" data-bs-target="#exampleModalLong"
              class="btn btn-primary btn-sm" 
              style="width: fit-content; bottom: 0; right: 0; position: absolute; margin: 15px 15px 10px 15px;">
      Reply</button>
    </div>
  
  </div>
<!--Answers-->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Answers</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!--Content-->
        {% load tag %}
  <div id="divAnswers" class="closePopupS" >
    <div class="row">

        {% getAnswers question as answers %}
        {% for answer in answers %}

        <div class="d-flex flex-start" style="margin: 10px 0 10px 0;">
          <i class="fa-solid fa-circle-user fa-3x" style="margin-right: 15px;"></i>
          <div>
            <h6 class="fw-bold mb-1" style="color: #2596be;">{{ answer.user.username }}</h6>
            <div class="d-flex align-items-center mb-3">
              <p class="mb-0" style="font-size: small;">
                {{ answer.created_at }}
              </p>
            </div>
            <p class="mb-0" style="max-width: 500px;word-wrap: break-word;">
              {{ answer.text }}
            </p>
          </div>
        </div>

      <hr class="my-0" />

        {% endfor %}

    </div>
  </div>
        <!--Content End-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!--End of Answers-->
</div>

{% endfor %}
{% endif %}

</div>
<!--End of Questions-->